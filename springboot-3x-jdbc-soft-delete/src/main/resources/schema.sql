DROP TABLE IF EXISTS address;
DROP VIEW IF EXISTS active_address;
DROP TABLE IF EXISTS person;
DROP TABLE IF EXISTS person_inactive;

CREATE TABLE IF NOT EXISTS address (
    id BIGINT PRIMARY KEY,
    street VARCHAR(255),
    is_soft_deleted BOOLEAN DEFAULT FALSE
);

CREATE VIEW active_address AS
SELECT * FROM address WHERE is_soft_deleted = false;

CREATE TABLE IF NOT EXISTS person (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255),
    age INT
);

CREATE TABLE IF NOT EXISTS person_inactive (
    id BIGINT PRIMARY KEY,
    name VARCHAR(255),
    age INT
);
